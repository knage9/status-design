import { PrismaService } from '../prisma/prisma.service';
import { Prisma } from '@prisma/client';
import { RequestNumberService } from './request-number.service';
import { CurrentUser } from '../auth/permissions';
import { TelegramService } from '../telegram/telegram.service';
export declare class RequestsService {
    private prisma;
    private requestNumberService;
    private telegramService;
    constructor(prisma: PrismaService, requestNumberService: RequestNumberService, telegramService: TelegramService);
    create(data: Prisma.RequestCreateInput): Promise<{
        manager: {
            id: number;
            name: string;
            email: string;
        } | null;
    } & {
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    findAll(currentUser: CurrentUser, searchQuery?: string, statusFilter?: string, dateFrom?: string, dateTo?: string): Promise<({
        manager: {
            id: number;
            name: string;
            email: string;
        } | null;
    } & {
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    })[]>;
    findOne(id: number, currentUser: CurrentUser): Promise<{
        manager: {
            id: number;
            name: string;
            email: string;
            phone: string | null;
        } | null;
        workOrders: ({
            executor: {
                name: string;
            } | null;
            manager: {
                name: string;
            };
            master: {
                name: string;
            } | null;
            executorAssignments: ({
                executor: {
                    id: number;
                    name: string;
                    email: string;
                };
            } & {
                id: number;
                description: string | null;
                createdAt: Date;
                updatedAt: Date;
                executorId: number;
                workOrderId: number;
                workType: import(".prisma/client").$Enums.WorkType;
                serviceType: import(".prisma/client").$Enums.ServiceType | null;
                amount: number;
                isPaid: boolean;
                paidAmount: number;
                metadata: Prisma.JsonValue | null;
            })[];
        } & {
            carBrand: string;
            carModel: string;
            status: import(".prisma/client").$Enums.WorkOrderStatus;
            id: number;
            createdAt: Date;
            updatedAt: Date;
            orderNumber: string;
            requestId: number | null;
            managerId: number;
            masterId: number | null;
            executorId: number | null;
            assembly: boolean;
            assemblyPrice: number;
            badges: boolean;
            blackCount: number;
            carCondition: import(".prisma/client").$Enums.CarCondition;
            carbonCount: number;
            completedAt: Date | null;
            customerName: string;
            customerPhone: string;
            diffuser: boolean;
            disassembly: boolean;
            disassemblyPrice: number;
            dismantling: boolean;
            dismantlingPrice: number;
            doorHandles: boolean;
            doorMoldings: boolean;
            fakeExhausts: boolean;
            fenders: boolean;
            fogLights: boolean;
            frontBumper: boolean;
            hood: boolean;
            hubCaps: boolean;
            inscriptions: boolean;
            lip: boolean;
            mirrors: boolean;
            mounting: boolean;
            mountingPrice: number;
            nozzles: boolean;
            paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
            photosAfterWork: string[];
            photosBeforeWork: string[];
            radiatorGrille: boolean;
            railings: boolean;
            rearBumper: boolean;
            rearLights: boolean;
            sills: boolean;
            spoiler: boolean;
            standardStructureCount: number;
            startedAt: Date | null;
            totalAmount: number;
            trunkLid: boolean;
            vents: boolean;
            vin: string | null;
            wheels: boolean;
            windowMoldings: boolean;
            antichromArmatureAmount: number;
            assemblyExecutorId: number | null;
            badgesActualQty: number;
            badgesQty: number;
            badgesStatus: string;
            carbonAssemblyExecutorId: number | null;
            carbonComment: string | null;
            carbonDisassemblyExecutorId: number | null;
            carbonDismantlingExecutorId: number | null;
            carbonMountingExecutorId: number | null;
            carbonPrice: number;
            carbonQty: number;
            carbonType: string | null;
            cleaningExecutorAmount: number;
            cleaningExecutorId: number | null;
            cleaningPrice: number;
            disassemblyExecutorId: number | null;
            dismantlingExecutorId: number | null;
            doorHandlesActualQty: number;
            doorHandlesQty: number;
            doorHandlesStatus: string;
            extraPainterAmount: number;
            fendersActualQty: number;
            fendersQty: number;
            fendersStatus: string;
            filmExecutorAmount: number;
            filmTeam: string | null;
            fogLightsActualQty: number;
            fogLightsQty: number;
            fogLightsStatus: string;
            hubCapsActualQty: number;
            hubCapsQty: number;
            hubCapsStatus: string;
            inscriptionsActualQty: number;
            inscriptionsLetterCount: number;
            inscriptionsQty: number;
            inscriptionsStatus: string;
            isCarbon: boolean;
            isCleaning: boolean;
            isFilm: boolean;
            isPolishCeramic: boolean;
            mountingExecutorId: number | null;
            painterId: number | null;
            polishCeramicExecutorAmount: number;
            polishCeramicExecutorId: number | null;
            polishCeramicPrice: number;
            radiatorGrilleActualQty: number;
            radiatorGrilleQty: number;
            radiatorGrilleStatus: string;
            railingsActualQty: number;
            railingsQty: number;
            railingsStatus: string;
            antichromMode: string;
            diskPaintingExecutorAmount: number;
            diskPaintingExecutorId: number | null;
            diskPaintingPrice: number;
            isDiskPainting: boolean;
            servicesData: Prisma.JsonValue | null;
            bodyPartsData: Prisma.JsonValue | null;
        })[];
    } & {
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    update(id: number, data: Prisma.RequestUpdateInput): Promise<{
        manager: {
            id: number;
            name: string;
        } | null;
    } & {
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    remove(id: number): Promise<{
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    changeStatus(requestId: number, currentUser: CurrentUser, status: 'SDELKA' | 'OTKLONENO', data: {
        managerComment: string;
        arrivalDate?: Date;
    }): Promise<{
        manager: {
            id: number;
            name: string;
            email: string;
        } | null;
    } & {
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    takeToWork(requestId: number, currentUser: CurrentUser): Promise<{
        manager: {
            id: number;
            name: string;
        } | null;
    } & {
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    complete(requestId: number): Promise<{
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    close(requestId: number): Promise<{
        carModel: string;
        status: import(".prisma/client").$Enums.RequestStatus;
        id: number;
        name: string;
        services: string[];
        phone: string;
        createdAt: Date;
        updatedAt: Date;
        managerId: number | null;
        completedAt: Date | null;
        startedAt: Date | null;
        mainService: string | null;
        additionalServices: string[];
        discount: number;
        source: import(".prisma/client").$Enums.RequestSource;
        arrivalDate: Date | null;
        requestNumber: string;
        comment: string;
        managerComment: string | null;
    }>;
    getStats(): Promise<{
        total: number;
        new: number;
        thisWeek: number;
    }>;
}
